{% liquid
  assign button_text = block.settings.button_text
  assign button_link = block.settings.button_link
  assign button_bg_color = block.settings.button_bg_color
  assign button_text_color = block.settings.button_text_color
  assign button_style = block.settings.button_style
  assign button_size = block.settings.button_size
  assign button_animation = block.settings.button_animation
  assign button_class = block.settings.button_class
  assign button_border_radius = block.settings.button_border_radius
%}

{% if button_text != blank %}
  <div class="button-block" {{ block.shopify_attributes }}>
    <a href="{{ button_link | default: '#' }}" 
       class="button {{ button_class }} button-{{ button_style }} button-{{ button_size }} {{ button_animation }}"
       style="background-color: {{ button_bg_color }}; color: {{ button_text_color }}; border-radius: {{ button_border_radius }}px;">
      {% if button_style == 'icon-left' %}
        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
        </svg>
      {% endif %}
      <span>{{ button_text }}</span>
      {% if button_style == 'icon-right' %}
        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8-8-8z"/>
        </svg>
      {% endif %}
    </a>
  </div>
{% endif %}

{% schema %}
{
  "name": "Button",
  "settings": [
    {
      "type": "text",
      "id": "button_text",
      "label": "Button Text",
      "default": "Click Here"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button Link"
    },
    {
      "type": "color",
      "id": "button_bg_color",
      "label": "Background Color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Text Color",
      "default": "#ffffff"
    },
    {
      "type": "select",
      "id": "button_style",
      "label": "Button Style",
      "default": "solid",
      "options": [
        { "value": "solid", "label": "Solid" },
        { "value": "outline", "label": "Outline" },
        { "value": "ghost", "label": "Ghost" },
        { "value": "icon-left", "label": "With Icon Left" },
        { "value": "icon-right", "label": "With Icon Right" }
      ]
    },
    {
      "type": "select",
      "id": "button_size",
      "label": "Button Size",
      "default": "medium",
      "options": [
        { "value": "small", "label": "Small" },
        { "value": "medium", "label": "Medium" },
        { "value": "large", "label": "Large" },
        { "value": "full", "label": "Full Width" }
      ]
    },
    {
      "type": "select",
      "id": "button_animation",
      "label": "Animation",
      "default": "none",
      "options": [
        { "value": "none", "label": "None" },
        { "value": "hover-bounce", "label": "Bounce on Hover" },
        { "value": "hover-scale", "label": "Scale on Hover" },
        { "value": "hover-slide", "label": "Slide on Hover" },
        { "value": "pulse", "label": "Pulse Effect" }
      ]
    },
    {
      "type": "range",
      "id": "button_border_radius",
      "label": "Border Radius",
      "min": 0,
      "max": 50,
      "step": 1,
      "default": 8,
      "unit": "px"
    },
    {
      "type": "text",
      "id": "button_class",
      "label": "CSS Class",
      "default": "btn"
    }
  ],
  "presets": [
    {
      "name": "button",
      "category":"Custom"
    }
  ]
}
{% endschema %}
